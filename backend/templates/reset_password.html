{% extends "base.html" %}

{% block content %}
<h2 style="text-align:center; margin-top:20px;">Reset Password</h2>
<div style="max-width:400px; margin:30px auto; padding:20px; border:1px solid #ccc; border-radius:8px;">
    <input type="password" id="new-pass" placeholder="New Password" style="width:100%; padding:8px; margin-bottom:10px;">
    <input type="password" id="confirm-pass" placeholder="Confirm Password" style="width:100%; padding:8px; margin-bottom:10px;">
    <div id="error" style="color:red; display:none;">Passwords do not match</div>
    <button onclick="resetPass()" style="background:#46A3DB; color:white; padding:8px; width:100%; border:none; border-radius:5px;">Reset Password</button>
</div>

<script>
    function resetPass() {
        const newPass = document.getElementById("new-pass").value;
        const confirmPass = document.getElementById("confirm-pass").value;
        if (newPass !== confirmPass) {
            document.getElementById("error").style.display = "block";
            return;
        }
        fetch("/update-password", {
            method:"POST",
            headers:{"Content-Type":"application/json"},
            body: JSON.stringify({password:newPass})
        }).then(res => res.json()).then(data => alert(data.message));
    }
</script>
{% endblock %}
